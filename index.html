<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TikTok Downloader</title>
<style>
body{font-family:Arial,sans-serif;background:#0f0f0f;color:#fff;display:flex;justify-content:center;}
.container{width:100%;max-width:420px;padding:15px;}
.input-group{display:flex;gap:6px;}
input{flex:1;padding:10px;border-radius:6px;border:none;}
button{padding:10px;border:none;border-radius:6px;cursor:pointer;}
.clear-btn{background:#ff4d4d;color:#fff;}
.paste-btn{background:#1da1f2;color:#fff;}
#loader{display:none;margin:15px 0;text-align:center;}
#video-info{display:none;margin-top:15px;}
.profile-section{display:flex;gap:10px;align-items:center;}
#user-logo{width:50px;height:50px;border-radius:50%;}
#quality-list{display:none;margin-top:15px;}
.q-btn{width:100%;margin-top:8px;font-size:15px;}
.hd-btn{background:#00e676;}
.sd-btn{background:#ffb300;}
.mp3-btn{background:#ab47bc;}
.creator,.contact-box{text-align:center;margin-top:15px;font-size:13px;}
a{color:#1da1f2;text-decoration:none;}
</style>
</head>
<body>
<div class="container">
  <div class="input-group">
    <input type="text" id="videoUrl" placeholder="Paste TikTok link here..." oninput="handleAutoProcess()">
    <button class="clear-btn" onclick="clearInput()">âœ•</button>
    <button class="paste-btn" onclick="pasteText()">Paste</button>
  </div>

  <div id="loader">ðŸ”„ Processing Video...</div>

  <div id="video-info">
    <div class="profile-section">
      <img id="user-logo" alt="User Logo">
      <div>
        <h4 id="user-name"></h4>
        <p id="video-desc"></p>
      </div>
    </div>
  </div>

  <div id="quality-list">
    <div id="status-text"></div>
    <button class="q-btn hd-btn" id="hdBtn">Download HD Video</button>
    <button class="q-btn sd-btn" id="sdBtn">Download Normal Video</button>
    <button class="q-btn mp3-btn" id="mp3Btn">Download MP3 Audio</button>
  </div>

  <div class="creator">Created by GX Sammim</div>
  <div class="contact-box">
    <a href="https://t.me/sammim14" target="_blank">Telegram</a> |
    <a href="https://www.facebook.com/share/1SD3SzGTyj/" target="_blank">Facebook</a>
  </div>
</div>

<script>
let HD_LINK = "";
let SD_LINK = "";
let MP3_LINK = "";

async function handleAutoProcess() {
  const input = document.getElementById("videoUrl");
  const url = input.value.trim();
  if (!url || !url.includes("tiktok.com")) return;

  document.getElementById("loader").style.display = "block";
  document.getElementById("quality-list").style.display = "none";

  try {
    const api = "https://tikwm.com/api/?url=" + encodeURIComponent(url);
    const res = await fetch(api);
    const json = await res.json();

    if (json.code !== 0) {
      document.getElementById("loader").style.display = "none";
      return;
    }

    const v = json.data;

    // à¦†à¦—à§‡à¦° à¦¡à¦¿à¦œà¦¾à¦‡à¦¨ à¦à¦•à¦¦à¦® à¦ à¦¿à¦• à¦°à¦¾à¦–à¦›à¦¿
    document.getElementById("video-info").style.display = "block";
    document.getElementById("user-logo").src = v.author.avatar;
    document.getElementById("user-name").innerText = v.author.nickname;
    document.getElementById("video-desc").innerText = v.title;

    // à¦†à¦²à¦¾à¦¦à¦¾ à¦•à§‹à§Ÿà¦¾à¦²à¦¿à¦Ÿà¦¿
    SD_LINK = v.play;    
    HD_LINK = v.hdplay;  
    MP3_LINK = v.music;  

    document.getElementById("status-text").innerText = "Ready to download";
    document.getElementById("quality-list").style.display = "block";

  } catch (e) {
    console.log(e);
  }

  document.getElementById("loader").style.display = "none";
}

// à¦¸à¦°à¦¾à¦¸à¦°à¦¿ à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡ (à¦•à§‹à¦¨à§‹ à¦¡à¦Ÿ/à¦®à§‡à¦¨à§ à¦¨à§‡à¦‡)
document.getElementById("hdBtn").onclick = () => { if(HD_LINK) location.href = HD_LINK; };
document.getElementById("sdBtn").onclick = () => { if(SD_LINK) location.href = SD_LINK; };
document.getElementById("mp3Btn").onclick = () => { if(MP3_LINK) location.href = MP3_LINK; };

function clearInput() {
  document.getElementById("videoUrl").value = "";
  document.getElementById("video-info").style.display = "none";
  document.getElementById("quality-list").style.display = "none";
}

async function pasteText() {
  const t = await navigator.clipboard.readText();
  document.getElementById("videoUrl").value = t;
  handleAutoProcess();
}
</script>
</body>
</html>
